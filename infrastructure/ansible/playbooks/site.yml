---
# Master site playbook - orchestrates all system setup
# Usage: ansible-playbook -i inventory/hosts.yml playbooks/site.yml

# Phase 1: Common OS setup for all hosts
- name: Common OS setup for all hosts
  import_playbook: common/os-base.yml

# Phase 2: System-specific OS configuration
- name: Apollo (storage) OS configuration
  import_playbook: apollo/os.yml
- name: Gravity (TVHeadend) OS configuration
  import_playbook: gravity/os.yml

# Phase 3: Common Docker setup for all hosts
- name: Common Docker setup for all hosts
  import_playbook: common/docker-base.yml

# Phase 4: System-specific application deployment
- name: Apollo (storage) applications
  import_playbook: apollo/apps.yml
- name: Gravity (TVHeadend) applications
  import_playbook: gravity/apps.yml
